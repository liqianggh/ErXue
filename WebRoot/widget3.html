
<html class="am-touch js cssanimations"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title id="main-title">分类下具体疾病</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <link rel="icon" type="image/png" href="assets/i/favicon.png">
  <link rel="stylesheet" href="assets/css/amazeui.min.css">
  <link rel="stylesheet" href="assets/css/app.css">
  <style type="text/css">
    .zhiding{
        position: fixed;
        top: 0;
    }
    .main-class{
      margin-top: 50px;
    }
    p{
    padding-left: 20px;
  }

   ul{
      padding-top: 3rem;
      list-style: none;
      clear: both;
    }
    #tab li{
      display: block;
      line-height: 4rem;
      border-bottom: 1px dashed #999;
    }
    a{
      text-decoration: none;
    }
    .username{
      float: right;
      color: #999;
      margin-right: 4rem;
      font-weight: lighter;
    }
    .set{
      position: absolute;
      left: 1.5rem;
      bottom: 1rem;
    }
    .am-icon-bars{
      display: block;
      float: right;
      margin-top: 1em;
      color: #fff;
    }
    .am-icon-bars:hover{
      cursor: pointer;
    }
    .toux{
      width: 6rem;
      height: 6rem;
      border-radius: 50%;
      border:1px solid #fff;
      margin: 1rem auto 1rem 2rem;
      overflow: hidden;
      float: left;
    }
    .am-icon-home{
      display: block;
      float: left;
      margin-top: 1em;
      color: #fff;
    }
    .am-icon-home:hover{
      cursor: pointer;
    }
    video{
      margin-left: 0.5rem;
    }
    .fl{
      margin-left: 1.5rem;
    }
    .fr{
      margin-left: 2rem;
    }
  </style>
</head>
<body class="am-with-fixed-navbar">
<!--[if lte IE 9]>
<p class="browsehappy">你正在使用<strong>过时</strong>的浏览器， 不提供支持。 请 <a
  href="http://browsehappy.com/" target="_blank">升级浏览器</a>
  以获得更好的体验！</p>
<![endif]-->


    <header data-am-widget="header" class="am-header am-header-default am-no-layout zhiding">
        <a href="widget.html"><i class="am-icon-home"></i></a>
        <i class="am-icon-bars" data-am-offcanvas="{target: '#bars'}"></i>
        <h1 class="am-header-title">
            疾病分类
        </h1>
  
    </header>
    <div id="bars" class="am-offcanvas">
      <div class="am-offcanvas-bar">
        <div class="am-offcanvas-content">
          <div class="toux">
            <img src="#">
          </div>
          <p class="username">用户名</p>
          <ul id="tab">
            <li class="am-icon-commenting-o"><a href="widget7.html">&nbsp&nbsp&nbsp评论</a></li>
            <li class="am-icon-hand-paper-o"><a href="widget6.html">&nbsp&nbsp&nbsp提问</a></li>
            <li class="am-icon-search"><a href="">&nbsp&nbsp&nbsp查询</a></li>
          </ul>
          <a href="#" class="am-icon-gear set">&nbsp&nbsp&nbsp设置</a>
        </div>
      </div>
    </div>
  <!--  -->
<!-- 
   --> <hr data-am-widget="divider" style="" class="am-divider am-divider-default" />
   <div class="main-class"> 

      
   </div>
 <hr data-am-widget="divider" style="" class="am-divider am-divider-default" />
    <div data-am-widget="navbar" class="am-navbar am-cf am-navbar-default am-no-layout" id="">
        <ul class="am-navbar-nav am-cf am-avg-sm-4">
            <li data-am-navbar-qrcode="">
              <a href="" class="">
                    <span class="am-icon-qrcode"></span>
                  <span class="am-navbar-label">二维码</span>
              </a>
            </li>
             <li>
              <a href="widget6.html" class="">
                    <span class="am-icon-user-md"></span>
                  <span class="am-navbar-label">一键咨询</span>
              </a>
            </li>
            <li>
              <a href="widget8.html" class="">
                    <span class="am-icon-male"></span>
                  <span class="am-navbar-label">我的资料</span>
              </a>
            </li>
        </ul>
    </div>

   
    <footer data-am-widget="footer" class="am-footer am-footer-default am-no-layout" data-am-footer="{  }">
      <div class="am-footer-switch">
      <span class="am-footer-ysp" data-rel="mobile" data-am-modal="{target: '#am-switch-mode'}">
          手机版
      </span>
       
      </div>
      <div class="am-footer-miscs ">
  
            
          <p>CopyRight©2017  耳穴 Inc.</p>
      </div>
    </footer>
  
    <div id="am-footer-modal" class="am-modal am-modal-no-btn am-switch-mode-m ">
      <div class="am-modal-dialog">
        <div class="am-modal-hd am-modal-footer-hd">
          <a href="javascript:void(0)" data-dismiss="modal" class="am-close am-close-spin " data-am-modal-close="">×</a>
        </div>
        
      </div>
    </div>
  
 



<div class="am-modal am-modal-no-btn" id=""><div class="am-modal-dialog"><div class="am-modal-bd"><canvas width="200" height="200"></canvas></div></div></div></body></html>




<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/amazeui.js"></script>
<script src="assets/js/handlebars.min.js"></script>
<script src="assets/js/amazeui.widgets.helper.js"></script>
<script src="assets/js/url.js"></script>
<!--  <script src="http://192.168.0.110:8080/ErXueSSM/user/findDiseaseCategoryWithAcupointsById.action">
	
</script> --> 
<script>
var otop = document.getElementsByClassName('zhiding')[0];
//用localStorage带来的disease参数
//console.log(localStorage.diseaseDescription);
$('.main-class').append('<p class="main-class-attention"><span class="main-class-span">疾病描述:</span>'+localStorage.diseaseDescription+'</p><button class="btn am-btn-primary">查看治疗方案</button>');
 otop.onclick = function(){
  window.scrollTo(0,0);
 }
 //findDiseaseCategoryBySystemId.action
 var dId=window.location.href.split('=',2)[1];
 //下面打算按钮点击权限发送ajax

$('.btn').click(function() {
	
  $.ajax({
    url: url+'/ErXueSSM/user/findDiseaseCategoryWithAcupointsById.action',
    type: 'POST',
    dataType: '',
    data: {diseaseCategoryId: dId},
    success:function(data){
      console.log(data);
      var mod=[]; 
      var arr=[];
      var vid=[];
      var vad=[];
      
      $('.main-class').append('<p class="main-class-attention"><span class="main-class-span">治疗方案：</span>'+data.attention+'</p>');
      //diseaseDescription
      
      $('#main-title').text(data.diseaseCategoryName);
      $('.am-header-title').text(data.diseaseCategoryName);
      for(var i=0;i<data.diseaseCategoryAndAcupointList.length;i++){
        if(data.diseaseCategoryAndAcupointList[i].acupointType==='主穴'){
        mod.push(data.diseaseCategoryAndAcupointList[i].acupointName);
        vid.push(data.diseaseCategoryAndAcupointList[i].videoLocation);//vid主穴视频，vad配穴视频
        }
       else{
        arr.push(data.diseaseCategoryAndAcupointList[i].acupointName);
        vad.push(data.diseaseCategoryAndAcupointList[i].videoLocation);
        }//判断主配穴
      }
     // console.log(vid);
     // console.log(vad);
      $('.main-class ').append('<a><p>主穴:'+mod+'</p></a>');
      var num=0;
      //console.log((vid[6]));
     for (var i = 0; i < mod.length/4; i++) {
      if(typeof(vid[num])=="undefined"){
        console.log('1');
        break;
      }else if(typeof(vid[num+1])=="undefined"){$('.main-class').append('<video src='+url+vid[num]+'  width=70rem controls="controls"></video><p><span class="fl">'+mod[num]+'</span></p>');console.log('1');break;
      }else if(typeof(vid[num+2])=="undefined"){$('.main-class').append('<video src='+url+vid[num]+'  width=70rem controls="controls"></video><video src='+url+vid[num+1]+' width=70rem controls="controls"></video><p><span class="fl">'+mod[num]+'</span><span class="fr">'+mod[num+1]+'</span></p>');console.log('1');break;
      }else if(typeof(vid[num+3])=="undefined"){
        $('.main-class').append('<video src='+url+vid[num]+'  width=70rem controls="controls"></video><video src='+url+vid[num+1]+' width=70rem controls="controls"></video><video src='+url+vid[num+2]+' width=70rem controls="controls"></video><p><span class="fl">'+mod[num]+'</span><span class="fr">'+mod[num+1]+'</span><span class="fr">'+mod[num+2]+'</span></p>');console.log('1');break;
      }else{
      $('.main-class').append('<video src='+url+vid[num]+'  width=70rem controls="controls"></video><video src='+url+vid[num+1]+' width=70rem controls="controls"></video><video src='+url+vid[num+2]+' width=70rem controls="controls"></video><video src='+url+vid[num+3]+' width=70rem controls="controls"></video><p><span class="fl">'+mod[num]+'</span><span class="fr">'+mod[num+1]+'</span><span class="fr">'+mod[num+2]+'</span><span class="fr">'+mod[num+3]+'</span></p>');
    
      num=num+4;
      }
    }
    //插入主穴视频以及文字
      $('.main-class ').append('<a><p>配穴:'+arr+'</p></a>');
      var num1=0;
      for (var i = 0; i < arr.length/4; i++) {
      if(typeof(vad[num1])=="undefined"){
        console.log('1');
        break;
      }else if(typeof(vad[num1+1])=="undefined"){$('.main-class').append('<video src='+url+vad[num1]+'  width=70rem controls="controls"></video><p><span class="fl">'+arr[num1]+'</span></p>');console.log('1');break;
      }else if(typeof(vad[num1+2])=="undefined"){$('.main-class').append('<video src='+url+vad[num1]+'  width=70rem controls="controls"></video><video src='+url+vad[num1+1]+' width=70rem controls="controls"></video><p><span class="fl">'+arr[num1]+'</span><span class="fr">'+arr[num1+1]+'</span></p>');console.log('1');break;
      }else if(typeof(vad[num1+3])=="undefined"){
        $('.main-class').append('<video src='+url+vad[num1]+'  width=70rem controls="controls"></video><video src='+url+vad[num1+1]+' width=70rem controls="controls"></video><video src='+url+vad[num1+2]+' width=70rem controls="controls"></video><p><span class="fl">'+arr[num1]+'</span><span class="fr">'+arr[num1+1]+'</span><span class="fr">'+arr[num1+2]+'</span></p>');console.log('1');break;
      }else{
      $('.main-class').append('<video src='+url+vad[num1]+'  width=70rem controls="controls"></video><video src='+url+vad[num1+1]+' width=70rem controls="controls"></video><video src='+url+vad[num1+2]+' width=70rem controls="controls"></video><video src='+url+vad[num1+3]+' width=70rem controls="controls"></video><p><span class="fl">'+arr[num1]+'</span><span class="fr">'+arr[num1+1]+'</span><span class="fr">'+arr[num1+2]+'</span><span class="fr">'+arr[num1+3]+'</span></p>');
    
      num1=num1+4;
      }
    }
    }
  });
  $('.btn').css('display', 'none');
});
</script>
</body>
</html>